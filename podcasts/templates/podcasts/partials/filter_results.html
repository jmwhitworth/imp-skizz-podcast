{% load podcast_tags %}

<!-- Updated Tag Cloud -->
<div id="tag-cloud" class="space-y-6">
    <h2 class="text-2xl">Filters</h2>
    <ul class="flex gap-4">
        {% for tag in tags %}
            <li>
                <button class="py-2 px-4 bg-primary"
                        hx-get="{% url 'filter_podcasts' %}{% build_tag_filter_url selected_tags tag.id %}"
                        hx-target="#filter-results"
                        hx-swap="innerHTML"
                        {% if tag in selected_tags or tag not in applicable_tags %} disabled class="active" {% endif %}>
                    {{ tag.name }}
                </button>
            </li>
        {% endfor %}
        <li>
            <button class="py-2 px-4 bg-accent"
                    hx-get="{% url 'filter_podcasts' %}"
                    hx-target="#filter-results"
                    hx-swap="innerHTML">
                Reset
            </button>
        </li>
    </ul>
</div>


{% if selected_tags %}
    <div class="space-y-6">
        <h2 class="text-2xl">Active filters</h2>
        <ul class="flex gap-4">
            {% for tag in selected_tags %}
                <li>{{ tag }}</li>
            {% endfor %}
        </ul>
    </div>
{% endif %}


<div id="podcast-list" class="space-y-4">
    <h2 class="text-2xl">Podcasts</h2>
    <ul>
        {% for podcast in podcasts %}
            <li>{{ podcast.title }} - {{ podcast.release_date }}</li>
        {% empty %}
            <li>No podcasts found for these filters.</li>
        {% endfor %}
    </ul>
</div>
