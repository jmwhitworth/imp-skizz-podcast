{% load podcast_tags %}

<!-- Updated Tag Cloud -->
<div id="tag-cloud">
    <h2>Filters</h2>
    <ul>
        {% for tag in tags %}
            <li>
                <button hx-get="{% url 'filter_podcasts' %}{% build_tag_filter_url selected_tags tag.id %}"
                        hx-target="#filter-results"
                        hx-swap="innerHTML"
                        {% if tag in selected_tags or tag not in applicable_tags %} disabled class="active" {% endif %}>
                    {{ tag.name }}
                </button>
            </li>
        {% endfor %}
        <li>
            <button hx-get="{% url 'filter_podcasts' %}"
                    hx-target="#filter-results"
                    hx-swap="innerHTML">
                Reset
            </button>
        </li>
    </ul>
</div>

{% if selected_tags %}
<div>
    <h2>Active filters</h2>
    <ul>
        {% for tag in selected_tags %}
            <li>{{ tag }}</li>
        {% endfor %}
    </ul>
</div>
{% endif %}


<!-- Updated Podcast List -->
<div id="podcast-list">
    <h2>Podcasts</h2>
    <ul>
        {% for podcast in podcasts %}
        <li>{{ podcast.title }} - {{ podcast.release_date }}</li>
        {% empty %}
        <li>No podcasts found for these filters.</li>
        {% endfor %}
    </ul>
</div>
